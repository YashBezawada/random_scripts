#include <TROOT.h>
#include <TChain.h>
#include <TFile.h>
#include <iostream>

#include "TFile.h"
#include "TCanvas.h"
#include "TGraph.h"
#include "TFrame.h"
#include "TH1.h"
#include "TH2.h"
#include "TStyle.h"
#include "TLine.h"
#include "TAxis.h"
#include "TColor.h"
#include "TAttMarker.h"
#include "TRandom3.h"
// #include "ArtieStyle.C"

void test(){

    // TFile *file = TFile::Open("/home/yash/ArtieSim/data/Neutron_Gamma_Flux_1cmColli_188m.root","read");
    // std::string histEnergies[7] = {"1", "10", "100", "1000", "10000", "30000", "100000"};
    // std::string hist_name = "hist_" + histEnergies[0] + "ev";
    // TH1F *h1 = (TH1F*)file->Get(hist_name);

    // cout << "-------1-----" << endl;

    // TCanvas *c1 = (TCanvas*)file->Get("Canvas_1");

    // // cout << "-------2-----" << endl;

    // TH1D* h1 = (TH1D*)c1->GetPrimitive("histfluka");
    // double tofLow = 10000;
    // double tofHigh = 100000;
    // int binLow = h1->GetXaxis()->FindBin(tofLow);
    // int binHigh = h1->GetXaxis()->FindBin(tofHigh);
    // int numBins = binHigh - binLow + 1;
    // // cout << "-------3-----" << endl;
    // TH1* h2 = new TH1D("h2", "TOF hist in the energy range", numBins, tofLow, tofHigh);
    // for (int i = 1; i < numBins + 1; i++)
    // {
    //     h2->SetBinContent(i, h1->GetBinContent(binLow + i - 1));
    // }
    
    // TCanvas *c2 = new TCanvas();;

    // // cout << "-------4-----" << endl;
    // c2->cd();
    // c2->SetLogx();
    // c2->SetLogy();
    // // cout << "-------5-----" << endl;
    // h2->Draw();
    // cout << "-------6-----" << endl;

    
    // TH1D *h1 = new TH1D("h", "title", 10, 0, 100);
    // h1->FillRandom("gaus", 147);

    // for (int i = 0; i < 10; i++)
    // {
    //     cout << h1->GetBinContent(i) << endl;
    // }

    // TCanvas *c1 = new TCanvas();
    // const Int_t bins = 99;
    // Double_t edges[bins+1] = {4.2985336011000635e-05, 4.3201853711436025e-05, 4.342167723642493e-05, 4.364489157093651e-05, 4.3871584790107344e-05, 4.410184820573758e-05, 4.433577652049361e-05, 4.457346799159358e-05, 4.481502460444438e-05, 4.506055225613427e-05, 4.5310160950907846e-05, 4.5563965006769776e-05, 4.582208327576055e-05, 4.60846393779923e-05, 4.635176194982961e-05, 4.6623584909431135e-05, 4.690024773815835e-05, 4.71818957817324e-05, 4.746868057114072e-05, 4.776076016485447e-05, 4.805829951526855e-05, 4.836147085984111e-05, 4.8670454140216345e-05, 4.898543745114642e-05, 4.9306617521310845e-05, 4.9634200230229904e-05, 4.9968401162176306e-05, 5.030944620292184e-05, 5.065757218135146e-05, 5.101302756025094e-05, 5.1376073182079534e-05, 5.174698307306405e-05, 5.2126045312614374e-05, 5.25135629740378e-05, 5.290985514245139e-05, 5.331525801970928e-05, 5.373012612281603e-05, 5.415483358731386e-05, 5.4589775585759274e-05, 5.503536987281638e-05, 5.5492058472650736e-05, 5.596030952177313e-05, 5.6440619286653854e-05, 5.6933514375301974e-05, 5.7439554163816415e-05, 5.795933346681777e-05, 5.8493485475958164e-05, 5.904268500400066e-05, 5.9607652069891715e-05, 6.0189155867762744e-05, 6.078801917180604e-05, 6.140512323166837e-05, 6.204141322682328e-05, 6.269790435648727e-05, 6.33756886517679e-05, 6.407594261852181e-05, 6.479993582782715e-05, 6.554904060077064e-05, 6.632474295416203e-05, 6.712865500372678e-05, 6.796252906599415e-05, 6.882827373288457e-05, 6.972797226041045e-05, 7.066390367319103e-05, 7.163856706887747e-05, 7.265470971972078e-05, 7.371535968359145e-05, 7.482386381316714e-05, 7.598393224925583e-05, 7.719969074318145e-05, 7.84757425009573e-05, 7.98172416531749e-05, 8.122998103789406e-05, 8.272049770599794e-05, 8.429620053829334e-05, 8.596552567428921e-05, 8.773812720451829e-05, 8.962511299461294e-05, 9.163933883347462e-05, 9.379577874956937e-05, 9.611199597169008e-05, 9.86087485311507e-05, 0.00010131077750777964, 0.00010424784680076873, 0.00010745613512602315, 0.00011098013055741552, 0.00011487525710717882, 0.00011921159300616909, 0.00012407926090839916, 0.00012959645790090016, 0.00013592180324185286, 0.00014327404627509209, 0.00015196495322912325, 0.00016245723883064585, 0.00017547373316954547, 0.00019222169037542365, 0.00021491021166933382, 0.00024815673902417673, 0.0003039284508227709, 0.00042981939401097875};
    // Double_t binContent[bins] = {1.0206351238554905e-05, 3.942332459117707e-06, 7.072031106551001e-07, 1.8012185650916017e-07, 2.4061031591162968e-08, 2.891526580277729e-09, 1.8076538891718623e-10, 5.1957765069181916e-12, 3.1677005677068946e-14, 2.5289279142870494e-15, 2.1173901721611548e-16, 5.396213669337159e-18, 2.480410890714693e-18, 1.426499895505311e-17, 1.2554714593953e-15, 1.2094604212544284e-13, 2.9582098039352445e-11, 4.045044089062232e-09, 1.4594065517646625e-07, 3.069854734769608e-06, 3.36423121960315e-05, 0.00017716837173131336, 0.0007488936792616143, 0.002304594615985938, 0.0049801307880090375, 0.01003962187243161, 0.016747798795978975, 0.02297602953430587, 0.029411075020536415, 0.03744006972555616, 0.04308577990481617, 0.04787461908530412, 0.05181745900327416, 0.05364062001211205, 0.05444188025953962, 0.05371886648518912, 0.05295432450937584, 0.0513377333142239, 0.047914095889656116, 0.044563021184247625, 0.04080494723824679, 0.03559076208823539, 0.03322891728463034, 0.02902939739075973, 0.025375733453972843, 0.021869916236015675, 0.018392118787159843, 0.014862107865462758, 0.012148659502221004, 0.009746208647189806, 0.006757590405336716, 0.004915621546161406, 0.003484192006027893, 0.0020834140734347266, 0.0012831000702972738, 0.0006501535533361121, 0.000256856369863206, 0.00010195712394717383, 2.274170750018552e-05, 2.935546740944589e-06, 1.717435550731807e-07, 1.7292510943390744e-09, 1.6243684028335126e-12, 1.0316918583811105e-17, 3.7457362534567925e-28, 3.9749093412646434e-23, 2.0965502410301447e-11, 3.985163531558387e-06, 0.0011987671879614323, 0.019837956727378234, 0.08584095865549686, 0.17722346797221483, 0.2590674760159517, 0.31405030109334675, 0.3358494514113115, 0.1744092176585576, 0.32523679651422294, 0.3045607218540111, 0.28887256244859794, 0.2679761423768159, 0.24481457324871833, 0.22654366319146016, 0.20895808093541562, 0.1911302889695637, 0.17876043596204866, 0.16240189919799608, 0.15056111297060132, 0.14025421265483357, 0.12868557694193855, 0.12180318399570272, 0.1127288858250679, 0.1041563472725171, 0.09629938533983788, 0.06028602584602427, 0.01513153812171078, 0.07956499564540437, 0.07385856932176722, 0.06801656311164939, 0.06207898939656331};
    
    // TH1* h2 = new TH1D("h2", "TOF hist in the energy range", bins, edges);
    // for (Int_t i = 0; i < bins; i++)
    // {
    //     h2->SetBinContent(i+1, binContent[i]);
    // }

    // c1->cd();
    // // c1->SetLogx();
    // c1->SetLogy();
    // h2->SetStats(0);
    // // h2->Draw();

    // TFile *file1 = TFile::Open("/home/yash/ArtieSim/build/outputs/ntof_ideal_short_filter_in_0.root","read");
    // TTree* tree=(TTree*)file1->Get("bkgdAnalysis");
    // TBranch *n_detected_e = 0;

    // std::unique_ptr<TFile> myFile( TFile::Open("gausProfile.root", "RECREATE") );
    // TRandom3* rand3 = new TRandom3();
    // double bins = 100;
    // TH2* profileHist2D = new TH2D("h2d", "Gaussian 2D Profile", bins, -3.0, 3.0, bins, -3.0, 3.0);
    // double sig = 1.7 / (2.0 * std::sqrt(2.0 * std::log(2.0)));
    // for (int i = 0; i < 1000000; i++)
    // {
    //     profileHist2D->Fill(rand3->Gaus(0, sig), rand3->Gaus(0, sig));
    // }
    
    // TCanvas *c1 = new TCanvas();
    // gStyle->SetPalette(57);
    // profileHist2D->Draw("colz");

    // myFile->WriteObject(profileHist2D, "ProfileHist2D");

    std::string add = "al8";

    cout << add.c_str() << endl; //Form("tof_hist_filter_%s_in", add.c_str())

}